{% extends "base.html" %}

{% block title %}ติดต่อเรา - Trash For Coin | ระบบมัดจำบรรจุภัณฑ์ขยะเพื่อสิ่งแวดล้อมที่ยั่งยืน{% endblock %}

{% block content %}
<!-- Enhanced Hero Section -->
<section class="hero-section bg-primary text-white py-5 position-relative overflow-hidden">
    <div class="hero-background position-absolute w-100 h-100" style="background: linear-gradient(135deg, #059669 0%, #047857 50%, #065f46 100%); opacity: 0.95;"></div>
   <div class="hero-pattern position-absolute w-100 h-100" style="background-image: url('data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id%3D%22grid%22 width%3D%2210%22 height%3D%2210%22 patternUnits%3D%22userSpaceOnUse%22%3E%3Cpath d%3D%22M 10 0 L 0 0 0 10%22 fill%3D%22none%22 stroke%3D%22rgba(255%2C255%2C255%2C0.1)%22 stroke-width%3D%221%22%2F%3E%3C%2Fpattern%3E%3C%2Fdefs%3E%3Crect width%3D%22100%22 height%3D%22100%22 fill%3D%22url(%23grid)%22%2F%3E%3C%2Fsvg%3E');"></div>

    <div class="container position-relative">
        <div class="row align-items-center py-5">
            <div class="col-lg-8">
                <div class="hero-content slide-up">
                    <h1 class="display-3 fw-bold mb-4">ติดต่อเรา</h1>
                    <p class="lead mb-4 text-white-50">
                        เรายินดีรับฟังความคิดเห็น ข้อเสนอแนะ และตอบคำถามของคุณ<br>
                        ทีมงานมืออาชีพพร้อมให้บริการและสนับสนุนตลอด 24 ชั่วโมง
                    </p>
                    <div class="hero-contact-info row g-3">
                        <div class="col-md-4">
                            <div class="contact-item d-flex align-items-center">
                                <i class="bi bi-telephone text-warning me-3 fs-4"></i>
                                <div>
                                    <small class="text-white-50 d-block">โทรศัพท์</small>
                                    <span class="fw-semibold">02-123-4567</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="contact-item d-flex align-items-center">
                                <i class="bi bi-envelope text-warning me-3 fs-4"></i>
                                <div>
                                    <small class="text-white-50 d-block">อีเมล</small>
                                    <span class="fw-semibold">info@trashforcoin.com</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="contact-item d-flex align-items-center">
                                <i class="bi bi-clock text-warning me-3 fs-4"></i>
                                <div>
                                    <small class="text-white-50 d-block">เวลาทำการ</small>
                                    <span class="fw-semibold">24/7</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="hero-visual text-center slide-up" style="animation-delay: 0.2s;">
                    <div class="floating-elements position-relative">
                        <div class="main-icon bg-white rounded-circle d-inline-flex align-items-center justify-content-center shadow-lg" 
                             style="width: 200px; height: 200px; animation: float 3s ease-in-out infinite;">
                            <i class="bi bi-headset text-primary" style="font-size: 5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="py-5">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-8">
                <div class="contact-form-card card shadow-lg border-0">
                    <div class="card-header bg-gradient text-white" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);">
                        <h3 class="mb-0 fw-bold">
                            <i class="bi bi-chat-dots me-2"></i>ส่งข้อความถึงเรา
                        </h3>
                        <p class="mb-0 mt-2 text-white-50">กรอกข้อมูลด้านล่าง เราจะติดต่อกลับภายใน 24 ชั่วโมง</p>
                    </div>
                    <div class="card-body p-5">
                        {% if msg %}
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <i class="bi bi-check-circle me-2"></i>
                            {{ msg }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="ปิด"></button>
                        </div>
                        {% endif %}

                        <form method="POST" class="needs-validation contact-form" novalidate>
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <label for="name" class="form-label">ชื่อ-นามสกุล <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-person"></i>
                                        </span>
                                        <input type="text" class="form-control" id="name" name="name" 
                                               placeholder="กรอกชื่อ-นามสกุลของคุณ" required>
                                        <div class="invalid-feedback">
                                            กรุณากรอกชื่อ-นามสกุล
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="email" class="form-label">อีเมล <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-envelope"></i>
                                        </span>
                                        <input type="email" class="form-control" id="email" name="email" 
                                               placeholder="example@email.com" required>
                                        <div class="invalid-feedback">
                                            กรุณากรอกอีเมลที่ถูกต้อง
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">เบอร์โทรศัพท์</label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-telephone"></i>
                                        </span>
                                        <input type="tel" class="form-control" id="phone" name="phone" 
                                               placeholder="08X-XXX-XXXX">
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <label for="subject" class="form-label">หัวข้อ <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <i class="bi bi-chat-square-text"></i>
                                        </span>
                                        <select class="form-select" id="subject" name="subject" required>
                                            <option value="">เลือกหัวข้อ</option>
                                            <option value="general">สอบถามทั่วไป</option>
                                            <option value="support">ขอความช่วยเหลือ</option>
                                            <option value="bug">รายงานปัญหา</option>
                                            <option value="feature">ขอฟีเจอร์ใหม่</option>
                                            <option value="business">ติดต่อเชิงธุรกิจ</option>
                                            <option value="partnership">ความร่วมมือ</option>
                                            <option value="feedback">ความคิดเห็น</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            กรุณาเลือกหัวข้อ
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-12">
                                    <label for="message" class="form-label">ข้อความ <span class="text-danger">*</span></label>
                                    <textarea class="form-control" id="message" name="message" rows="6" 
                                              placeholder="กรุณาระบุรายละเอียดข้อความของคุณ..." required></textarea>
                                    <div class="invalid-feedback">
                                        กรุณากรอกข้อความ
                                    </div>
                                    <div class="form-text">
                                        <i class="bi bi-info-circle me-1"></i>
                                        ข้อความควรมีความยาวอย่างน้อย 10 ตัวอักษร
                                    </div>
                                </div>
                                
                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="privacy" name="privacy" required>
                                        <label class="form-check-label" for="privacy">
                                            ฉันยอมรับ <a href="#" class="text-primary">นโยบายความเป็นส่วนตัว</a> 
                                            และ <a href="#" class="text-primary">เงื่อนไขการใช้งาน</a> <span class="text-danger">*</span>
                                        </label>
                                        <div class="invalid-feedback">
                                            กรุณายอมรับนโยบายความเป็นส่วนตัว
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                                <button type="reset" class="btn btn-outline-secondary btn-lg me-md-2">
                                    <i class="bi bi-arrow-clockwise me-2"></i>ล้างข้อมูล
                                </button>
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-send me-2"></i>ส่งข้อความ
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Contact Info Sidebar -->
            <div class="col-lg-4">
                <!-- Contact Information Card -->
                <div class="contact-info-card card shadow-lg border-0 mb-4">
                    <div class="card-header bg-gradient text-white" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-geo-alt me-2"></i>ข้อมูลติดต่อ
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <div class="contact-info-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" 
                                     style="width: 50px; height: 50px; min-width: 50px;">
                                    <i class="bi bi-geo-alt text-primary fs-5"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-2">ที่อยู่สำนักงาน</h6>
                                    <p class="text-muted mb-0 small">
                                        123 ถนนเทคโนโลยีสีเขียว<br>
                                        แขวงคลองเตย เขตคลองเตย<br>
                                        กรุงเทพมหานคร 10110<br>
                                        ประเทศไทย
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="contact-info-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-success bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" 
                                     style="width: 50px; height: 50px; min-width: 50px;">
                                    <i class="bi bi-telephone text-success fs-5"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-2">โทรศัพท์</h6>
                                    <p class="text-muted mb-1 small">
                                        <a href="tel:+6621234567" class="text-decoration-none">02-123-4567</a> (สำนักงานใหญ่)
                                    </p>
                                    <p class="text-muted mb-0 small">
                                        <a href="tel:+66891234567" class="text-decoration-none">089-123-4567</a> (ฝ่ายสนับสนุน)
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="contact-info-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-warning bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" 
                                     style="width: 50px; height: 50px; min-width: 50px;">
                                    <i class="bi bi-envelope text-warning fs-5"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-2">อีเมล</h6>
                                    <p class="text-muted mb-1 small">
                                        <a href="mailto:info@trashforcoin.com" class="text-decoration-none">info@trashforcoin.com</a> (ทั่วไป)
                                    </p>
                                    <p class="text-muted mb-0 small">
                                        <a href="mailto:support@trashforcoin.com" class="text-decoration-none">support@trashforcoin.com</a> (สนับสนุน)
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="contact-info-item">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-info bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" 
                                     style="width: 50px; height: 50px; min-width: 50px;">
                                    <i class="bi bi-clock text-info fs-5"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-2">เวลาทำการ</h6>
                                    <p class="text-muted mb-1 small">
                                        จันทร์ - ศุกร์: 09:00 - 18:00
                                    </p>
                                    <p class="text-muted mb-1 small">
                                        เสาร์ - อาทิตย์: 10:00 - 16:00
                                    </p>
                                    <p class="text-muted mb-0 small">
                                        <span class="badge bg-success">24/7 ออนไลน์</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Media Card -->
                <div class="social-media-card card shadow-lg border-0 mb-4">
                    <div class="card-header bg-gradient text-white" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-share me-2"></i>ติดตามเรา
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <p class="text-muted mb-3 small">
                            ติดตามข่าวสารและอัปเดตล่าสุดจากเรา
                        </p>
                        <div class="social-links d-flex gap-3">
                            <a href="#" class="social-link bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center text-decoration-none" 
                               style="width: 50px; height: 50px;" aria-label="Facebook">
                                <i class="bi bi-facebook text-primary fs-5"></i>
                            </a>
                            <a href="#" class="social-link bg-info bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center text-decoration-none" 
                               style="width: 50px; height: 50px;" aria-label="Twitter">
                                <i class="bi bi-twitter text-info fs-5"></i>
                            </a>
                            <a href="#" class="social-link bg-danger bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center text-decoration-none" 
                               style="width: 50px; height: 50px;" aria-label="Instagram">
                                <i class="bi bi-instagram text-danger fs-5"></i>
                            </a>
                            <a href="#" class="social-link bg-success bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center text-decoration-none" 
                               style="width: 50px; height: 50px;" aria-label="Line">
                                <i class="bi bi-line text-success fs-5"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- FAQ Card -->
                <div class="faq-card card shadow-lg border-0">
                    <div class="card-header bg-gradient text-white" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                        <h5 class="mb-0 fw-bold">
                            <i class="bi bi-question-circle me-2"></i>คำถามที่พบบ่อย
                        </h5>
                    </div>
                    <div class="card-body p-4">
                        <div class="accordion accordion-flush" id="faqAccordion">
                            <div class="accordion-item border-0">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-transparent border-0 px-0" type="button" 
                                            data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="false">
                                        <i class="bi bi-question-circle text-primary me-2"></i>
                                        ระบบใช้งานยากไหม?
                                    </button>
                                </h2>
                                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body px-0 pt-0">
                                        <small class="text-muted">
                                            ระบบออกแบบมาให้ใช้งานง่าย มีคู่มือและการสนับสนุนครบครัน 
                                            พร้อมทีมงานคอยช่วยเหลือตลอด 24 ชั่วโมง
                                        </small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item border-0">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-transparent border-0 px-0" type="button" 
                                            data-bs-toggle="collapse" data-bs-target="#faq2" aria-expanded="false">
                                        <i class="bi bi-shield-check text-success me-2"></i>
                                        ระบบปลอดภัยแค่ไหน?
                                    </button>
                                </h2>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body px-0 pt-0">
                                        <small class="text-muted">
                                            เราใช้เทคโนโลยีความปลอดภัยระดับธนาคาร พร้อมการเข้ารหัสข้อมูล 
                                            และระบบตรวจสอบความปลอดภัยอย่างสม่ำเสมอ
                                        </small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item border-0">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed bg-transparent border-0 px-0" type="button" 
                                            data-bs-toggle="collapse" data-bs-target="#faq3" aria-expanded="false">
                                        <i class="bi bi-cash-coin text-warning me-2"></i>
                                        มีค่าใช้จ่ายไหม?
                                    </button>
                                </h2>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body px-0 pt-0">
                                        <small class="text-muted">
                                            การสมัครสมาชิกและใช้งานระบบพื้นฐานฟรี 100% 
                                            คุณจะได้รับเงินมัดจำคืนเมื่อนำบรรจุภัณฑ์มาคืน
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Section (Optional) -->
<section class="py-5 bg-light">
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-5 fw-bold mb-4">ที่ตั้งสำนักงาน</h2>
                <p class="lead text-muted">
                    สำนักงานใหญ่ตั้งอยู่ในใจกลางกรุงเทพมหานคร เดินทางสะดวกด้วยรถไฟฟ้า BTS และ MRT
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="map-card card shadow-lg border-0">
                    <div class="card-body p-0">
                        <div class="map-placeholder bg-light d-flex align-items-center justify-content-center" 
                             style="height: 400px; border-radius: var(--border-radius-lg);">
                            <div class="text-center">
                                <i class="bi bi-geo-alt text-primary fs-1 mb-3"></i>
                                <h5 class="fw-bold mb-2">แผนที่ออนไลน์</h5>
                                <p class="text-muted mb-3">
                                    123 ถนนเทคโนโลยีสีเขียว แขวงคลองเตย เขตคลองเตย<br>
                                    กรุงเทพมหานคร 10110
                                </p>
                                <a href="https://maps.google.com" target="_blank" class="btn btn-primary">
                                    <i class="bi bi-map me-2"></i>เปิดใน Google Maps
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced CSS for animations -->
<style>
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }
    
    .hero-section {
        min-height: 80vh;
        display: flex;
        align-items: center;
    }
    
    .contact-form-card:hover {
        transform: translateY(-5px);
        transition: all 0.3s ease;
    }
    
    .contact-info-card:hover,
    .social-media-card:hover,
    .faq-card:hover {
        transform: translateY(-5px);
        transition: all 0.3s ease;
    }
    
    .social-link:hover {
        transform: scale(1.1);
        transition: all 0.3s ease;
    }
    
    .contact-form .form-control:focus,
    .contact-form .form-select:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
    }
    
    .contact-info-item:hover .contact-icon {
        transform: scale(1.1);
        transition: all 0.3s ease;
    }
    
    .map-card:hover {
        transform: translateY(-5px);
        transition: all 0.3s ease;
    }
    
    .accordion-button:not(.collapsed) {
        background-color: transparent;
        color: var(--primary-color);
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: transparent;
    }
</style>
{% endblock %}

{% block scripts %}
<script>
    // Enhanced form validation
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            const forms = document.getElementsByClassName('needs-validation');
            Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    // Custom validation for message length
                    const messageField = document.getElementById('message');
                    if (messageField.value.length < 10) {
                        messageField.setCustomValidity('ข้อความต้องมีความยาวอย่างน้อย 10 ตัวอักษร');
                    } else {
                        messageField.setCustomValidity('');
                    }
                    
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    } else {
                        // Show loading state
                        const submitBtn = form.querySelector('button[type="submit"]');
                        const originalText = submitBtn.innerHTML;
                        submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>กำลังส่ง...';
                        submitBtn.disabled = true;
                        
                        // Simulate form submission delay
                        setTimeout(() => {
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                        }, 2000);
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
    
    // Real-time message length validation
    document.getElementById('message').addEventListener('input', function() {
        const messageLength = this.value.length;
        const minLength = 10;
        
        if (messageLength < minLength) {
            this.setCustomValidity(`ข้อความต้องมีความยาวอย่างน้อย ${minLength} ตัวอักษร (ปัจจุบัน: ${messageLength})`);
        } else {
            this.setCustomValidity('');
        }
    });
    
    // Enhanced scroll animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
            }
        });
    }, observerOptions);
    
    // Observe all cards
    document.querySelectorAll('.card').forEach(el => {
        observer.observe(el);
    });
    
    // Enhanced parallax effect for hero section
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const heroBackground = document.querySelector('.hero-background');
        const heroPattern = document.querySelector('.hero-pattern');
        
        if (heroBackground) {
            heroBackground.style.transform = `translateY(${scrolled * 0.5}px)`;
        }
        if (heroPattern) {
            heroPattern.style.transform = `translateY(${scrolled * 0.3}px)`;
        }
    });
    
    // Auto-resize textarea
    const textarea = document.getElementById('message');
    textarea.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = (this.scrollHeight) + 'px';
    });
    
    // Phone number formatting
    const phoneInput = document.getElementById('phone');
    phoneInput.addEventListener('input', function() {
        let value = this.value.replace(/\D/g, '');
        if (value.length >= 10) {
            value = value.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
        }
        this.value = value;
    });
    
    // Social media link tracking
    document.querySelectorAll('.social-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const platform = this.querySelector('i').className.split(' ')[1].replace('bi-', '');
            console.log(`Social media click: ${platform}`);
            // Here you could send analytics data
        });
    });
</script>
{% endblock %}